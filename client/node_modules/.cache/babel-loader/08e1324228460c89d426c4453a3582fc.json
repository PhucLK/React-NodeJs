{"ast":null,"code":"var _jsxFileName = \"/home/lk/Desktop/React-Node/client/src/App.js\";\nimport React, { Component } from \"react\";\nimport \"./App.css\";\nimport Table from \"./Table\";\nimport Form from \"./Form\";\nimport axios from \"axios\";\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      products: [],\n      product: {},\n      name: \"\",\n      price: \"\",\n      _id: 0\n    };\n\n    this.addProduct = (name, price) => {\n      axios({\n        method: \"post\",\n        url: \"/add\",\n        headers: {},\n        data: {\n          name: name,\n          price: price // This is the body part\n\n        }\n      }).then(() => {\n        this.componentDidMount();\n      });\n    };\n\n    this.delete = _id => {\n      axios.delete(`/products/${_id}`) // <-- remove ;\n      .then(() => {\n        this.componentDidMount();\n      });\n    };\n\n    this.edit = _id => {\n      var product;\n      axios.get(`/products/${_id}`).then(res => {\n        product = res.data;\n        this.setState({\n          name: product.name,\n          price: product.price,\n          _id: _id\n        });\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n\n      if (this.state._id !== 0) {\n        const product = {\n          name: this.state.name,\n          price: this.state.price\n        };\n        axios({\n          method: \"put\",\n          url: `/products/${this.state._id}`,\n          data: product,\n          config: {\n            headers: {\n              \"Content-Type\": \"multipart/form-data\"\n            }\n          }\n        }).then(response => {\n          //handle success\n          this.componentDidMount();\n          this.setState({\n            name: \"\",\n            price: \"\",\n            _id: 0\n          });\n        }).catch(response => {\n          //handle error\n          console.log(response);\n        });\n      } else {\n        const name = this.state.name;\n        const price = this.state.price;\n        this.setState({\n          product: {\n            name: name,\n            price: price\n          },\n          name: \"\",\n          price: \"\"\n        });\n        this.addProduct(name, price);\n      }\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 9\n      }\n    }, \"Todo-App\"), /*#__PURE__*/React.createElement(Table, {\n      delete: this.delete,\n      edit: this.edit,\n      products: this.state.products,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Form, {\n      _id: this.state._id,\n      name: this.state.name,\n      price: this.state.price,\n      handleSubmit: this.handleSubmit,\n      handleChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  componentDidMount() {\n    axios.get(\"/products\").then(res => {\n      const products = res.data;\n      this.setState({\n        products: products\n      });\n    });\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/lk/Desktop/React-Node/client/src/App.js"],"names":["React","Component","Table","Form","axios","App","state","products","product","name","price","_id","addProduct","method","url","headers","data","then","componentDidMount","delete","edit","get","res","setState","handleSubmit","e","preventDefault","config","response","catch","console","log","handleChange","event","target","value","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./App.css\";\nimport Table from \"./Table\";\nimport Form from \"./Form\";\nimport axios from \"axios\";\n\nclass App extends Component {\n  state = {\n    products: [],\n    product: {},\n    name: \"\",\n    price: \"\",\n    _id: 0,\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <h1>Todo-App</h1>\n        <Table\n          delete={this.delete}\n          edit={this.edit}\n          products={this.state.products}\n        ></Table>\n        <Form\n          _id={this.state._id}\n          name={this.state.name}\n          price={this.state.price}\n          handleSubmit={this.handleSubmit}\n          handleChange={this.handleChange}\n        ></Form>\n      </div>\n    );\n  }\n\n  addProduct = (name, price) => {\n    axios({\n      method: \"post\",\n      url: \"/add\",\n      headers: {},\n      data: {\n        name: name,\n        price: price, // This is the body part\n      },\n    }).then(() => {\n      this.componentDidMount();\n    });\n  };\n\n  delete = (_id) => {\n    axios\n      .delete(`/products/${_id}`) // <-- remove ;\n      .then(() => {\n        this.componentDidMount();\n      });\n  };\n\n  edit = (_id) => {\n    var product;\n    axios.get(`/products/${_id}`).then((res) => {\n      product = res.data;\n      this.setState({\n        name: product.name,\n        price: product.price,\n        _id: _id,\n      });\n    });\n  };\n\n  componentDidMount() {\n    axios.get(\"/products\").then((res) => {\n      const products = res.data;\n      this.setState({ products: products });\n    });\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    if (this.state._id !== 0) {\n      const product = {\n        name: this.state.name,\n        price: this.state.price,\n      };\n      axios({\n        method: \"put\",\n        url: `/products/${this.state._id}`,\n        data: product,\n        config: { headers: { \"Content-Type\": \"multipart/form-data\" } },\n      })\n        .then((response) => {\n          //handle success\n          this.componentDidMount();\n          this.setState({\n            name: \"\",\n            price: \"\",\n            _id : 0\n          });\n        })\n        .catch((response) => {\n          //handle error\n          console.log(response);\n        });\n    } else {\n      const name = this.state.name;\n      const price = this.state.price;\n      this.setState({\n        product: {\n          name: name,\n          price: price,\n        },\n        name: \"\",\n        price: \"\",\n      });\n      this.addProduct(name, price);\n    }\n  };\n\n  handleChange = (event) => {\n    this.setState({\n      [event.target.name]: event.target.value,\n    });\n  };\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}